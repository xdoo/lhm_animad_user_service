# GLOBAL CONFIGURATION
spring:
    # if you want to set a different profile
    # use environment variable:
    #
    # SPRING_PROFILES_ACTIVE=docker
     # DB: enable web console
    profiles.active: local
    application.name: lhm_user_service
        
logging:
  level:
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
    de.muenchen.referenzarchitektur: DEBUG

---
# DOCKER CONFIGURATION
spring:
    profiles: docker

# inside a container, we can always map to 8080. Use your compose
# file to expose a service on a different port.
server.port: 8080


---
# LOCAL CONFIGURATION
spring:
    profiles: local
    
# random server port to avoid port 
# conflicts on localhost
# server.port: 0
# dedicated server port
server.port: 8870
        

security:
  basic:
    enabled: false
  oauth2:
    entitlements:
      entitlementsUri: http://localhost:8080/auth/realms/demo/authz/entitlement/openIdDemo    
    resource:
      filter-order: 3
      jwt:
        key-value: MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqjrVO6S3X8U79FSJgY/zKBvEe+YOYAVRnjeaZLaFs66Amglf1RLp1G2ZANCtEV35uPOWi3ErkQDvGEOn0BNlgxYFI6iPO2co6RnPIRNEIhp7uvw9mxevXmIcRfv0/bulus81ET7H/POYqYpr7zXaN1EQU5nhjsSF39AHC5Xp49Fve8fihtWu63JOd/WnlkxJ+esxl+q+Wx1wBKdY8eaIxrKs3REZV0wxrSq7qwBEgAJ5HAojz3SO/A6s4K/J0Fm1WCxsnkm9LJ+gtnfDltYoJDbZafQyifT45oHz0pApIScqbsvgriOjQxSrQ7XzUx9btMxoKdPHrjlTukGweInqlQIDAQAB
    client:
      client-id: openIdDemo

    #this part not needed when validating the JWT with the public key
#    client:
#    resource:
#      userInfoUri: http://localhost:8080/auth/realms/demo/protocol/openid-connect/userinfo 

---
spring:
    profiles: no-security

server.port: 8870
security.ignored: /**